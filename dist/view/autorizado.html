 <div class="page-content" ng-controller="SolicitanteAutorizadoController as autorizadoCtrl">

    <div class="row">
        <div class="alert alert-success" style="margin: 10px;" role="alert" ng-show="autorizadoCtrl.msg">{{autorizadoCtrl.msg}}</div>
        <div class="alert alert-danger" style="margin: 10px;" role="alert" ng-show="autorizadoCtrl.msgErro">{{autorizadoCtrl.msgErro}}</div>
    </div>

    <div class="row">
        <div class="progress" ng-show="autorizadoCtrl.processando">
          <div class="progress-bar progress-bar-striped active" role="progressbar"  aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
        </div>
    </div>

    <form id="salvarAutorizadoForm" class="hidden-sm hidden-xs" ng-submit="autorizadoCtrl.salvar()" >

        <div class="row">
            <div class="col-lg-12">

                <div class="panel panel-red">
                    <div class="panel-heading">Cadastrar Pessoa Autorizada a Abrir Chamado</div>
                    <div class="panel-body pan">
                        <div class="form-body pal">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="inputName" class="control-label">Nome: *</label>
                                        <div class="input-icon right">
                                            <input id="inputName" type="text" placeholder="" class="form-control" ng-model="autorizadoCtrl.autorizado.nome" oninvalid="this.setCustomValidity('O nome é obrigatório')"  oninput="setCustomValidity('')" required/>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="selectEmpresa" class="control-label">CPF: *</label>
                                        <div class="input-icon right">
                                           <input id="inputCpf" type="text" placeholder="" class="form-control" ng-model="autorizadoCtrl.autorizado.cpf" oninvalid="this.setCustomValidity('O CPF é obrigatório')"  oninput="setCustomValidity('')" required/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="inputEmail" class="control-label">E-mail: </label>
                                        <div class="input-icon right">
                                            <i class="fa fa-envelope"></i>
                                            <input id="inputEmail" type="email" placeholder="" class="form-control"  ng-model="autorizadoCtrl.autorizado.email"   />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="inputTelefone" class="control-label">Celular: </label>
                                        <div class="input-icon right">
                                            <i class="fa fa-phone"></i>
                                            <input id="inputTelefone" type="text" placeholder="" class="form-control"  ng-model="autorizadoCtrl.autorizado.celular"   />
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-actions text-right pal">
                            <button type="button" class="btn btn-primary" ng-click="autorizadoCtrl.cancelarEdicao()" ng-show="autorizadoCtrl.editando">Cancelar</button>

                            <button type="submit" class="btn btn-primary" >Salvar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <!-- iv class="row">
        <div class="col-lg-12">
            <div class="input-icon right text-white">
                <a href="#"><i class="fa fa-search"></i></a>
                <input type="text" placeholder="Pesquisar por nome..." class="form-control" ng-model="autorizadoCtrl.pesquisa.nome" ng-keypress="$event.keyCode == 13 && autorizadoCtrl.pesquisar()" />
            </div>    
        </div>
    </div -->


    <div class="row" ng-cloak>
        <div class="col-lg-12">
            <div class="panel panel-red">
                <div class="panel-heading">Lista de pessoas autorizadas</div>
                                 
            	<div class="panel ">
                    <div class="panel-body">

                         <table ng-table="autorizadoCtrl.tabelaListagem" class="table table-hover table-striped" show-filter="true">
                            <tr ng-repeat="autorizado in $data">
                                <td title="'Nome'" filter="{ nome: 'text'}" sortable="'nome'">
                                    {{autorizado.nome}}</td>
                                <td title="'Cpf'" filter="{ cpf: 'text'}" sortable="'cpf'">
                                    {{autorizado.cpf}}</td>
                                <td title="'Celular'" filter="{ celular: 'text'}" sortable="'celular'">
                                    {{autorizado.celular}}</td>
                                <td title="'Email'" filter="{ email: 'text'}" sortable="'email'">
                                    {{autorizado.email}}</td>                                
                                <td title="'Editar'">
                                    <button type="button" class="btn" ng-click="autorizadoCtrl.editar(autorizado)"><i class="fa fa-edit fa-fw fa_custom"></i></button>
                                </td>
                                <td title="'Remover'">
                                    <button type="button" class="btn"
                                    ng-confirm-click="Tem certeza que deseja excluir o solicitante {{autorizado.nome}}?"
                                     ng-click="autorizadoCtrl.remover(autorizado)"><i class="fa fa-eraser fa-fw fa_custom"></i></button>
                                </td>
                            </tr>
                        </table>

                    </div>
                </div>
            </div>

            
        </div>
    </div>
</div>